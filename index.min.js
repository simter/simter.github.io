!function(e){"use strict";function t(e,t){if("undefined"==typeof document)return t;e=e||"";var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");return n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),i.appendChild(n),t}function i(e,t){for(var n=0;n<t.length;n++){if(t[n].id===e)return t[n];if(t[n].children)return i(e,t[n].children)}return null}e="default"in e?e.default:e,t("html{background-color:#000;color:#888;font-family:微软雅黑,宋体,sans-serif}#app,body,html{height:100%;padding:0;margin:0;overflow:hidden}#app>div{overflow:hidden}pre{border:1px solid #2b2b2b;margin:0;padding:.5em;background-color:#001;line-height:1.5em}a{color:#880;text-decoration:none}a:focus{color:#881}",void 0),t("table{table-layout:fixed;border-spacing:0;background:none;padding:0;margin:0;cursor:default;border-collapse:collapse}tr{height:1.5em}td,th{border:1px solid #2b2b2b;padding:.15em .25em}",void 0),t(".layout{height:100%;overflow:hidden;display:flex;flex-direction:column}.layout>header{display:none;flex-grow:0;border-bottom:1px solid #2b2b2b}.layout>header .logo{margin-top:4px}.layout>div{flex-grow:1;display:flex;flex-direction:row}.layout>div>aside{min-width:10em;border-right:1px solid #2b2b2b;padding:1em;overflow:auto}.layout>div>aside>.sidebar{padding-left:0}.layout>div>main{flex-grow:1;padding:1em;overflow:auto}.layout>footer{flex-grow:0;border-top:1px solid #2b2b2b;color:#666;text-align:center;font-size:80%;padding:.25em}.layout>footer a{color:inherit;text-decoration:none}",void 0);var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"layout"},[i("div",[i("aside",[e._t("sidebar",[e._v("Add sidebar here")])],2),e._v(" "),i("main",[e._t("main",[e._v("Add main content here")])],2)]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("footer",[i("a",{attrs:{href:"https://opensource.org/licenses/MIT",target:"_blank"}},[e._v("MIT License.")]),e._v(" Copyright ©2017 RJ Hwang.")])}],data:function(){return{}}};t("ul.sidebar{list-style-type:none;margin:0;padding-left:1em;line-height:1.8em}ul.sidebar>li>a{color:inherit;text-decoration:none}ul.sidebar>li.active{color:#880}",void 0);var o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"sidebar"},e._l(e.items,function(t){return i("li",{class:{active:t.active}},[i("a",{attrs:{href:t.id||t.label},on:{click:function(i){i.preventDefault(),i.stopPropagation(),e.clickMe(t)}}},[e._v(e._s(t.label))]),e._v(" "),t.children?i("sidebar",{attrs:{items:t.children},on:{click:e.clickSubItem}}):e._e()],1)}))},staticRenderFns:[],name:"sidebar",props:["items"],data:function(){return{isActive:!1}},methods:{clickMe:function(e){this.$emit("click",e)},clickSubItem:function(e){this.$emit("click",e)},toInactive:function(e){var t=this;this.$set(e,"active",!1),e.children&&e.children.forEach(function(e){return t.toInactive(e)})}}},r='<h1 id="-">概述</h1>\n<p><a href="#AAA">AAA</a>\n<a href="https://github.com/simter">Simter</a> 组件、应用的说明文档。本文档托管在 <a href="https://github.com/simter/simter.github.io">https://github.com/simter/simter.github.io</a>。</p>\n',a=[{id:"about",label:"概述"},{id:"code-rule",label:"编码规范"},{id:"rest-rule",label:"REST 接口设计规范"},{id:"unit-test-rule",label:"单元测试"},{id:"test-menu",label:"菜单测试",children:[{id:"sub1",label:"子菜单1"},{id:"sub2",label:"子菜单2",children:[{id:"sub21",label:"3级菜单1"},{id:"sub22",label:"3级菜单2"}]},{id:"sub3",label:"子菜单3"}]}],s=new e({el:"#app",components:{"app-layout":n,"app-sidebar":o},data:{sidebarItems:a},methods:{clickSidebarItem:function(e){history.state&&history.state.id===e.id||(history.pushState(e,e.label,"/chapter/"+e.id+".html"),this.showChapter(this.getChapter(e.id)))},showChapter:function(e){var t=this;e&&!e.active&&(this.sidebarItems.forEach(function(i){return t.$set(i,"active",i.id==e.id)}),e.content||this.fetchChapterContent(e),console.log("showChapter=%s",JSON.stringify(e)))},getChapter:function(e){console.log("id=",e);var t=i(e,this.sidebarItems);return console.log("chapter=",JSON.stringify(t)),t},fetchChapterContent:function(e){var t=this;return e?e.content?Promise.resolve(e.content):fetch("/compiled-chapter/"+e.id+".html").then(function(i){return i.ok?i.text().then(function(i){return t.$set(e,"content",i),e}):i.text().then(function(n){return t.$set(e,"error",i.status+" "+(n||i.statusText)),console.log("chapter.error=",e.error),e})}):Promise.reject("no id '"+e.id+"'")}},computed:{mainContent:function(){for(var e=this,t=0;t<this.sidebarItems.length;t++){var i=e.sidebarItems[t];if(i.active)return console.log("mainContent=",i.content||i.error),i.content||i.error}var n=this.sidebarItems.filter(function(e){return e.id="about"})[0];this.$set(n,"active",!0),this.$set(n,"content",r)}},created:function(){if(console.log("location.hash=",location.hash),location.hash){var e=location.hash.substr(1),t=e.substr(e.lastIndexOf("/")+1);if(t=t.substring(0,t.indexOf(".html"))){var i=this.getChapter(t);history.replaceState(i,i.label,e),this.showChapter(i)}}}});window.onpopstate=function(e){console.log("onpopstate=%s",JSON.stringify(e)),e.state&&(console.log("location=%s, state=%s",location.href,JSON.stringify(e.state)),s.mainContent=cacheChapters[e.state.id]||"")}}(Vue);
